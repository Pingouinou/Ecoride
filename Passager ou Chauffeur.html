<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoRide üçÉ - Espace Utilisateur</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Simonetta&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Karla:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(to bottom, #fafafa, #abee90); /* Bleu vers Vert clair */
            color: #3b1d1d; /* Marron fonc√© */
        }
        header {
            background-color: #8fbc8f; /* Vert for√™t clair */
            color: #ffffff;
            padding: 1em 2em;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        header h1 {
            font-family: 'Simonetta', cursive; /* Appliquer la police Simonetta au titre */
            margin: 0; /* Ajustez la marge si n√©cessaire */
            font-size: 2em; /* Ajustez la taille si n√©cessaire */
        }
        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
        }
        nav ul li {
            margin-left: 1em;
        }
        nav a {
            color: white;
            text-decoration: none;
        }
        main {
            padding: 2em;
        }
        .hero {
            text-align: center;
            margin-bottom: 2em;
        }
        .hero h2 {
            font-family: 'Simonetta', cursive;
            color: inherit;
        }
        .hero p {
            font-family: 'Karla', sans-serif;
            color: #3d0f16;
            line-height: 1.6;
            margin-bottom: 1em;
        }
        .hero p strong {
            font-family: 'Simonetta', cursive;
            color: inherit;
        }
        .role-selection {
            text-align: center;
            margin-bottom: 2em;
        }
        .role-selection button {
            background-color: #558b2f; /* Vert pour les boutons de s√©lection de r√¥le */
            color: white;
            border: none;
            padding: 1em 2em;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            margin: 0 1em;
            transition: background-color 0.3s ease;
        }
        .role-selection button:hover {
            background-color: #388e3c; /* Vert plus fonc√© au survol */
        }
        .search-bar, .carpool-list, .filters, .carpool-details, .auth-section, .user-panel, #chauffeur-content, #passager-content, #ride-history-section, #passenger-reviews {
            background-color: white;
            border: 1px solid #e0e0e0;
            padding: 1em;
            margin-bottom: 1em;
            border-radius: 5px;
            color: #3d0f16;
        }
        .search-bar {
            display: flex;
            gap: 0.5em;
        }
        .search-bar input[type="text"],
        .search-bar input[type="date"],
        .search-bar button {
            padding: 0.5em;
            border: 1px solid #ccc;
            border-radius: 5px;
            color: #3d0f16;
        }
        .search-bar button {
            background-color: #8fbc8f;
            color: white;
            cursor: pointer;
        }
        .carpool-list {
            list-style: none;
            padding: 0;
        }
        .carpool-item {
            background-color: white;
            border: 1px solid #e0e0e0;
            padding: 1em;
            margin-bottom: 1em;
            border-radius: 5px;
            display: grid;
            grid-template-columns: auto 1fr auto;
            gap: 1em;
            align-items: center;
            color: #3d0f16;
        }
        .carpool-item .driver-info {
            display: flex;
            align-items: center;
            gap: 0.5em;
        }
        .carpool-item .driver-info img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
        }
        .ecological {
            color: #388e3c;
            font-weight: bold;
        }
        .details-button {
            background-color: #43a047;
            color: white;
            border: none;
            padding: 0.5em 1em;
            border-radius: 5px;
            cursor: pointer;
        }
        .filters {
            margin-bottom: 1.5em;
            padding: 1em;
            background-color: #e8f5e9;
            border: 1px solid #c8e6c9;
            border-radius: 5px;
            display: flex;
            gap: 1em;
            align-items: center;
            color: #3b1d1d;
        }
        .filters label {
            margin-right: 0.5em;
        }
        .filters input[type="number"],
        .filters select {
            padding: 0.3em;
            border: 1px solid #ccc;
            border-radius: 3px;
            color: #3d0f16;
        }
        .carpool-details h2 {
            color: #558b2f;
        }
        .preferences ul {
            list-style: none;
            padding: 0;
        }
        .preferences li {
            margin-bottom: 0.3em;
        }
        .participate-button {
            background-color: #1976d2;
            color: white;
            border: none;
            padding: 0.8em 1.5em;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        .auth-section h2, .user-panel h2 {
            color: #558b2f;
        }
        .auth-section label, .user-panel label {
            display: block;
            margin-bottom: 0.3em;
        }
        .auth-section input[type="text"],
        .auth-section input[type="email"],
        .auth-section input[type="password"],
        .user-panel input[type="text"],
        .user-panel input[type="date"],
        .user-panel select {
            width: 100%;
            padding: 0.5em;
            margin-bottom: 0.8em;
            border: 1px solid #ccc;
            border-radius: 3px;
            box-sizing: border-box;
            color: #3d0f16;
        }
        .auth-section button {
            background-color: #558b2f;
            color: white;
            border: none;
            padding: 0.8em 1.5em;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        footer {
            background-color: #c8e6c9;
            color: #333;
            padding: 1em 2em;
            text-align: center;
            border-top: 1px solid #22d3b5;
            margin-top: 20px;
        }
        footer a {
            color: #e8a153;
            text-decoration: none;
            display: block;
            margin-bottom: 0.5em;
        }
        .important {
            font-weight: bold;
            color: #d84315;
        }
        .note {
            font-size: 0.8em;
            color: #757575;
            font-style: italic;
        }

        /* Styles for specific driver sections and elements */
        #chauffeur-content, #passager-content, #ride-history-section, #passenger-reviews {
            background-color: white;
            border: 1px solid #e0e0e0;
            padding: 1.5em;
            margin-bottom: 1.5em;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            color: #3d0f16;
        }
        #chauffeur-content h2, #formulaire-voyage h3, #passager-content h2, #ride-history-section h2, #passenger-reviews h2 {
            color: #558b2f;
            text-align: center;
            margin-bottom: 1em;
        }
        #formulaire-voyage div {
            margin-bottom: 1em;
        }
        #formulaire-voyage label {
            display: block;
            margin-bottom: 0.5em;
            font-weight: bold;
        }
        #formulaire-voyage input[type="text"],
        #formulaire-voyage input[type="number"],
        #formulaire-voyage select {
            width: 100%;
            padding: 0.7em;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 1em;
        }
        #formulaire-voyage button {
            background-color: #558b2f;
            color: white;
            border: none;
            padding: 0.8em 1.5em;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            font-size: 1.1em;
            transition: background-color 0.3s ease;
            margin-top: 1em;
        }
        #formulaire-voyage button:hover {
            background-color: #4CAF50;
        }
        /* Custom class for green text */
        .green-text {
            color: green;
        }

        /* Style for checkbox label */
        #formulaire-voyage .checkbox-container {
            display: flex; /* Aligns checkbox and label horizontally */
            align-items: center; /* Vertically centers them */
            margin-top: 0.5em; /* Space above */
            margin-bottom: 1em; /* Space below */
        }
        #formulaire-voyage .checkbox-container label {
            display: inline; /* Keep label inline with checkbox */
            margin-bottom: 0; /* Remove default block margin */
            margin-left: 0.5em; /* Space between checkbox and label */
            font-weight: normal; /* Normal font weight for this label */
        }
        #formulaire-voyage .checkbox-container input[type="checkbox"] {
            width: auto; /* Allow checkbox to take its natural width */
            margin: 0; /* Remove default input margins */
        }

        /* Styles for ride history */
        .ride-history {
            margin-top: 20px;
        }
        .ride-card {
            background-color: #e8f5e9; /* Vert tr√®s clair */
            border: 1px solid #c8e6c9; /* Bordure verte claire */
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            color: #3b1d1d; /* Marron fonc√© */
        }
        .ride-details {
            flex-grow: 1;
            margin-right: 20px;
        }
        .ride-details p {
            margin: 5px 0;
        }
        .ride-actions {
            flex-shrink: 0;
        }
        .ride-actions button {
            background-color: #dc3545; /* Rouge pour annuler */
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.3s ease;
        }
        .ride-actions button:hover {
            background-color: #c82333; /* Rouge plus fonc√© au survol */
        }
        .ride-status {
            font-weight: bold;
            color: #28a745; /* Vert pour les covoiturages actifs */
        }
        .ride-status.cancelled {
            color: #dc3545; /* Rouge pour les covoiturages annul√©s */
        }
        .no-rides {
            text-align: center;
            color: #666;
            padding: 20px;
            border: 1px dashed #ccc;
            border-radius: 5px;
        }

        /* Styles for passenger reviews */
        .review-card {
            background-color: #f7f7f7;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 10px;
        }
        .review-card p {
            margin: 5px 0;
            line-height: 1.4;
        }
        .review-card .reviewer-name {
            font-weight: bold;
            color: #558b2f;
        }
        .review-card .review-text {
            font-style: italic;
        }
        .review-card .review-rating {
            color: #e8a153; /* Orange pour les √©toiles ou la note */
            font-weight: bold;
        }
        .review-card img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
            vertical-align: middle;
        }

        /* Style for Ophelia's profile image */
        .profile-image {
            width: 100px; /* Adjust size as needed */
            height: 100px; /* Should be same as width for a perfect circle */
            border-radius: 50%; /* Makes the image round */
            object-fit: cover; /* Ensures the image covers the area without distortion */
            display: block; /* Centers the image */
            margin: 0 auto 1em auto; /* Centers the image and adds space below */
            border: 3px solid #8fbc8f; /* Optional: adds a border around the image */
        }

        /* Styles pour la modale de confirmation */
        .modal {
            display: none; /* Cach√©e par d√©faut */
            position: fixed; /* Reste en place */
            z-index: 1; /* Par-dessus tout */
            left: 0;
            top: 0;
            width: 100%; /* Pleine largeur */
            height: 100%; /* Pleine hauteur */
            overflow: auto; /* Active le d√©filement si n√©cessaire */
            background-color: rgba(0,0,0,0.4); /* Fond noir avec opacit√© */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 25px;
            border: 1px solid #888;
            border-radius: 8px;
            width: 80%;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            color: #3b1d1d; /* Marron fonc√© */
        }
        .modal-content h2 {
            margin-top: 0;
            color: #558b2f; /* Couleur de titre coh√©rente */
        }
        .modal-buttons button {
            padding: 10px 20px;
            margin: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease;
        }
        .modal-buttons .confirm {
            background-color: #dc3545;
            color: white;
        }
        .modal-buttons .confirm:hover {
            background-color: #c82333;
        }
        .modal-buttons .cancel {
            background-color: #f0f0f0;
            color: #333;
            border: 1px solid #ccc;
        }
        .modal-buttons .cancel:hover {
            background-color: #e0e0e0;
        }
    </style>
</head>
<body>
    <header>
        <h1 style="margin: 0;"><a href="Ecoride.html" onclick="showRoleSelection()" style="color: inherit; text-decoration: none;">EcoRide üçÉ</a></h1>
        <nav>
            <ul>
                <li><a href="Ecoride.html" onclick="showRoleSelection()">Accueil</a></li>
                <li><a href="Contact.html">Contact</a></li>
                <li><a href="Ecoride.html" id="logoutButton">D√©connexion</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <h1>Espace Utilisateur</h1>

        <div id="roleSelection" class="role-selection">
            <h2>Que souhaitez-vous faire ?</h2>
            <button id="proposeTripBtn">Proposer un voyage</button>
            <button id="searchTripBtn">Rechercher un voyage</button>

<script>
    document.getElementById('searchTripBtn').addEventListener('click', function() {
        window.location.href = "Espace Passager.html";
    });
</script>
        </div>

        <div id="chauffeur-content" style="display: none;">
            <h2 id="espace-chauffeur">Espace Chauffeur</h2>
            <p id="instruction-chauffeur">
                En tant que <span class="important">Op√©lia</span>, vous pouvez saisir un nouveau voyage.
            </p>

            <img src="Op√©lia.jpg" alt="Photo de Op√©lia" class="profile-image">
            <p>
                Moi, c'est <span class="important">Oph√©lia</span> ! Je suis dans le d√©but de la trentaine, j'habite dans une ville qui bouge bien : **Bordeaux**.
                Je suis **jeune professionnelle dans la com'**, un domaine o√π il faut √™tre cr√©ative et bien organis√©e. Mon job m'am√®ne √† pas mal me d√©placer.
                <br>
            </p>
            <p>
                Note moyenne : ‚≠ê‚≠ê‚≠ê‚≠ê
            </p>

            <div id="formulaire-voyage">
                <h3>Saisir un Nouveau Voyage</h3>
                <form id="nouveauVoyageForm">
                    <input type="hidden" id="userId" name="userId" value="ID_DE_OPHELIA">
                    <div>
                        <label for="depart">Adresse de d√©part:</label>
                        <input type="text" id="depart" name="depart" list="cityOptions" required placeholder="Rechercher une ville...">
                    </div>
                    <div>
                        <label for="arrivee">Adresse d'arriv√©e:</label>
                        <input type="text" id="arrivee" name="arrivee" list="cityOptions" required placeholder="Rechercher une ville...">
                    </div>

                    <datalist id="cityOptions"></datalist>

                    <div>
                        <label for="prix">Prix propos√© (‚Ç¨):</label>
                        <input type="number" id="prix" name="prix" min="0" step="0.01" required>
                        <p class="note">Note: 2 cr√©dits seront d√©duits par la plateforme.</p>
                    </div>
                    <div>
                        <label for="vehicule">S√©lectionner un v√©hicule existant:</label>
                        <select id="vehicule" name="vehicule">
                            <option value="">-- S√©lectionner un v√©hicule existant --</option>
                            <option value="vehicule1">NISSAN Micra IV Verte (Immatriculation: RR-231-CD) V√©hicule Non √âlectrique</option>
                            <option value="vehicule2">MINI III Cooper Argent (Immatriculation: ER-754-JH) <span class="green-text">V√©hicule √âlectrique üå±</span></option>
                        </select>
                    </div>
                    <div>
                        <h3>Proposer un Nouveau V√©hicule</h3>
                        <label for="nouveau_vehicule_modele">Marque et Mod√®le:</label>
                        <input type="text" id="nouveau_vehicule_modele" name="nouveau_vehicule_modele" list="carModels" placeholder="Ex: Renault Clio ou Tesla Model 3">
                        <label for="nouvelle_immatriculation">Immatriculation:</label>
                        <input type="text" id="nouvelle_immatriculation" name="nouvelle_immatriculation">
                        <div class="checkbox-container">
                            <input type="checkbox" id="nouveau_vehicule_electrique" name="nouveau_vehicule_electrique">
                            <label for="nouveau_vehicule_electrique">V√©hicule √âlectrique üå±</label>
                        </div>
                    </div>
                    <div>
                        <h3>Pr√©f√©rences du Voyageur</h3>
                        <div class="checkbox-container">
                            <input type="checkbox" id="preference_fumer" name="preference_fumer">
                            <label for="preference_fumer">üö¨ La cigarette</label>
                        </div>
                        <div class="checkbox-container">
                            <input type="checkbox" id="preference_animaux" name="preference_animaux">
                            <label for="preference_animaux">üê∂üê± Les animaux</label>
                        </div>
                        <div class="checkbox-container">
                            <input type="checkbox" id="preference_parler" name="preference_parler">
                            <label for="preference_parler">üó£Ô∏è Discuter</label>
                        </div>
                        <div class="checkbox-container">
                            <input type="checkbox" id="preference_musique" name="preference_musique">
                            <label for="preference_musique">üé∂ La usique</label>
                        </div>
                    </div>


                    <datalist id="carModels">
                        <option value="Audi A1"></option>
                        <option value="Audi A3"></option>
                        <option value="Audi A4"></option>
                        <option value="Audi Q3"></option>
                        <option value="Audi Q5"></option>
                        <option value="BMW S√©rie 1"></option>
                        <option value="BMW S√©rie 3"></option>
                        <option value="BMW X1"></option>
                        <option value="BMW X3"></option>
                        <option value="Citro√´n C3"></option>
                        <option value="Citro√´n C4"></option>
                        <option value="Citro√´n C5 Aircross"></option>
                        <option value="Dacia Sandero"></option>
                        <option value="Dacia Duster"></option>
                        <option value="Fiat 500"></option>
                        <option value="Fiat Tipo"></option>
                        <option value="Ford Fiesta"></option>
                        <option value="Ford Focus"></option>
                        <option value="Ford Puma"></option>
                        <option value="Hyundai i10"></option>
                        <option value="Hyundai i20"></option>
                        <option value="Hyundai Kona"></option>
                        <option value="Kia Picanto"></option>
                        <option value="Kia Rio"></option>
                        <option value="Kia Sportage"></option>
                        <option value="Mercedes-Benz Classe A"></option>
                        <option value="Mercedes-Benz Classe C"></option>
                        <option value="Mercedes-Benz GLC"></option>
                        <option value="MINI Cooper"></option>
                        <option value="MINI Countryman"></option>
                        <option value="Nissan Juke"></option>
                        <option value="Nissan Qashqai"></option>
                        <option value="Nissan Micra"></option>
                        <option value="Opel Corsa"></option>
                        <option value="Opel Astra"></option>
                        <option value="Opel Mokka"></option>
                        <option value="Peugeot 208"></option>
                        <option value="Peugeot 308"></option>
                        <option value="Peugeot 2008"></option>
                        <option value="Peugeot 3008"></option>
                    </datalist>

                    <button type="submit">Proposer le voyage</button>
                </form>
            </div>



            <div id="passenger-reviews">
                <h2>Avis des Passagers</h2>

                <div class="review-card">
                    <p class="reviewer-name"><img src="Barbarapa.jpg" alt="Photo de Barbarapa"> Barbarapa, 28 ans</p>
                    <p class="review-rating">Note : 5/5 ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                    <p class="review-text">"Super trajet avec Op√©lia ! Sa voiture est nickel, elle conduit vraiment bien et en douceur. On a papot√© un peu, c'√©tait tr√®s agr√©able et elle est super ponctuelle. Je recommande √† 100% !"</p>
                </div>

                <div class="review-card">
                    <p class="reviewer-name"><img src="M.Kus.jpg" alt="Photo de M.kus"> M.kus, 45 ans</p>
                    <p class="review-rating">Note : 4/5 ‚≠ê‚≠ê‚≠ê‚≠ê</p>
                    <p class="review-text">"Trajet Paris-Lyon avec Op√©lia. Tr√®s pro, la voiture est confortable. J'ai pu travailler tranquillement sur mon ordinateur pendant le trajet, elle respecte l'ambiance que tu souhaites. Nickel !"</p>
                </div>

                <div class="review-card">
                    <p class="reviewer-name"><img src="L√©l√©.jpg" alt="Photo de L√©l√©"> L√©l√©, 21 ans</p>
                    <p class="review-rating">Note : 5/5 ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                    <p class="review-text">"Oph√©lia est top ! Super sympa, on a bien rigol√©. L'ambiance √©tait cool, on a m√™me mis de la musique en commun. Franchement, c'est le genre de covoit' que tu refais sans h√©siter."</p>
                </div>

                <div class="review-card">
                    <p class="reviewer-name"><img src="Julesdepommes.jpg" alt="Photo de Julesdepommes"> Julesdepommes, 35 ans</p>
                    <p class="review-rating">Note : 4/5 ‚≠ê‚≠ê‚≠ê‚≠ê</p>
                    <p class="review-text">"J'ai voyag√© plusieurs fois avec Op√©lia, et c'est toujours un plaisir. Toujours √† l'heure, voiture propre. Elle est discr√®te si tu pr√©f√®res le silence, mais aussi ouverte √† la discussion. La conductrice id√©ale pour un long trajet."</p>
                </div>
            </div>



            <div id="ride-history-section">
                <h2>Historique de mes covoiturages</h2>
                <div class="ride-history" id="rideHistory">
                    <div class="ride-card" data-ride-id="123">
                        <div class="ride-details">
                            <p><strong>D√©part :</strong> Paris</p>
                            <p><strong>Arriv√©e :</strong> Lyon</p>
                            <p><strong>Date :</strong> 25/05/2025 √† 10h00</p>
                            <p><strong>Places disponibles :</strong> 2/4</p>
                            <p><strong>Cr√©dit g√©n√©r√© :</strong> 15 ‚Ç¨</p>
                            <p class="ride-status">Statut : Actif</p>
                            <p><strong>Participants :</strong> Jean Dupont, Marie Curie</p>
                        </div>
                        <div class="ride-actions">
                            <button onclick="confirmCancellation('123', 'Paris √† Lyon le 25/05/2025')">Annuler ce covoiturage</button>
                        </div>
                    </div>

                    <div class="ride-card" data-ride-id="124">
                        <div class="ride-details">
                            <p><strong>D√©part :</strong> Marseille</p>
                            <p><strong>Arriv√©e :</strong> Nice</p>
                            <p><strong>Date :</strong> 28/05/2025 √† 14h30</p>
                            <p><strong>Places disponibles :</strong> 0/3</p>
                            <p><strong>Cr√©dit g√©n√©r√© :</strong> 10 ‚Ç¨</p>
                            <p class="ride-status">Statut : Actif</p>
                            <p><strong>Participants :</strong> Paul Martin, Sophie Dubois, Pierre Leblanc</p>
                        </div>
                        <div class="ride-actions">
                            <button onclick="confirmCancellation('124', 'Marseille √† Nice le 28/05/2025')">Annuler ce covoiturage</button>
                        </div>
                    </div>

                    <div class="ride-card" data-ride-id="125">
                        <div class="ride-details">
                            <p><strong>D√©part :</strong> Bordeaux</p>
                            <p><strong>Arriv√©e :</strong> Toulouse</p>
                            <p><strong>Date :</strong> 20/05/2025 √† 08h00</p>
                            <p><strong>Places :</strong> 4</p>
                            <p><strong>Cr√©dit :</strong> 20 ‚Ç¨</p>
                            <p class="ride-status cancelled">Statut : Annul√©</p>
                            <p><strong>Participants :</strong> (Aucun, ou liste des participants au moment de l'annulation)</p>
                        </div>
                        <div class="ride-actions">
                            <button disabled style="background-color: #6c757d; cursor: not-allowed;">Annul√©</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="passengerSection" style="display: none;">
            <h2>Rechercher un Voyage</h2>
            <p>En tant que <span class="important">passager</span>, vous pouvez rechercher un covoiturage.</p>

            <div class="search-bar">
                <label for="searchDepart" class="sr-only">D√©part</label>
                <input type="text" id="searchDepart" placeholder="Ville de d√©part">

                <label for="searchArrivee" class="sr-only">Arriv√©e</label>
                <input type="text" id="searchArrivee" placeholder="Ville d'arriv√©e">

                <label for="searchDate" class="sr-only">Date</label>
                <input type="date" id="searchDate">
                <button type="button">Rechercher</button>
            </div>

            <div class="filters">
                <label for="priceMax">Prix max:</label>
                <input type="number" id="priceMax" min="0" placeholder="‚Ç¨">
                <label for="seatsAvailable">Places dispo:</label>
                <input type="number" id="seatsAvailable" min="1" placeholder="Nb.">
                <label for="driverRating">Note chauffeur min:</label>
                <select id="driverRating">
                    <option value="">Toutes</option>
                    <option value="4">4 √©toiles et plus</option>
                    <option value="3">3 √©toiles et plus</option>
                </select>
            </div>

            <ul class="carpool-list">
                <li class="carpool-item">
                    <div class="driver-info">
                        <img src="https://via.placeholder.com/50" alt="Photo de profil du conducteur">
                        <span>Alice Dupont</span>
                    </div>
                    <div>
                        <p><strong>Caen ‚û°Ô∏è La Rochelle</strong></p>
                        <p>Date: 25/05/2025 √† 10:00</p>
                        <p>Places disponibles: 2</p>
                    </div>
                    <div>
                        <span class="ecological">15‚Ç¨</span>
                        <button class="details-button">D√©tails</button>
                    </div>
                </li>
                <li class="carpool-item">
                    <div class="driver-info">
                        <img src="https://via.placeholder.com/50" alt="Photo de profil du conducteur">
                        <span>Bob Martin</span>
                    </div>
                    <div>
                        <p><strong>Dijon ‚û°Ô∏è Lyon</strong></p>
                        <p>Date: 26/05/2025 √† 14:30</p>
                        <p>Places disponibles: 3</p>
                    </div>
                    <div>
                        <span class="ecological">20‚Ç¨</span>
                        <button class="details-button">D√©tails</button>
                    </div>
                </li>
            </ul>
        </div>
    </main>

    <div id="cancellationModal" class="modal">
        <div class="modal-content">
            <h2>Confirmer l'annulation</h2>
            <p>√ätes-vous s√ªr de vouloir annuler le covoiturage <strong id="rideDescription"></strong> ?</p>
            <p>Cette action est irr√©versible. Les participants seront notifi√©s par e-mail.</p>
            <div class="modal-buttons">
                <button class="confirm" id="confirmCancelBtn">Confirmer l'annulation</button>
                <button class="cancel" onclick="closeModal()">Annuler</button>
            </div>
        </div>
    </div>

    </main>
    <footer>
        <a href="Mentions L√©gales.html">Mentions l√©gales</a>
        <a href="mailto:contact@ecoride.fr">contact@ecoride.fr</a>
        <p>&copy; 2025 EcoRide üçÉ - Tous droits r√©serv√©s.</p>
    </footer>
</body>
</html>

    <script>
        const roleSelection = document.getElementById('roleSelection');
        const chauffeurContent = document.getElementById('chauffeur-content');
        const passengerSection = document.getElementById('passengerSection');
        const proposeTripBtn = document.getElementById('proposeTripBtn');
        const searchTripBtn = document.getElementById('searchTripBtn');

        function showRoleSelection() {
            roleSelection.style.display = 'block';
            chauffeurContent.style.display = 'none';
            passengerSection.style.display = 'none';
        }

        proposeTripBtn.addEventListener('click', function() {
            roleSelection.style.display = 'none';
            chauffeurContent.style.display = 'block';
            passengerSection.style.display = 'none';
        });

        searchTripBtn.addEventListener('click', function() {
            roleSelection.style.display = 'none';
            chauffeurContent.style.display = 'none';
            passengerSection.style.display = 'block';
        });

        // Data for all French cities (for demonstration purposes)
        const allFrenchCities = [
            "Paris", "Marseille", "Lyon", "Toulouse", "Nice", "Nantes", "Strasbourg",
            "Montpellier", "Bordeaux", "Lille", "Rennes", "Reims", "Le Havre",
            "Saint-√âtienne", "Toulon", "Grenoble", "Dijon", "N√Æmes", "Angers",
            "Villeurbanne", "Le Mans", "La Rochelle", "Clermont-Ferrand", "Brest",
            "Limoges", "Tours", "Amiens", "Perpignan", "Metz", "Besan√ßon", "Orl√©ans",
            "Mulhouse", "Rouen", "Caen", "Nancy", "Argenteuil", "Montreuil", "Saint-Denis",
            "Avignon", "Tours", "Annecy", "Biarritz", "Poitiers", "Versailles", "Antibes",
            "Cannes", "Dunkerque", "Colmar", "Bourges", "Calais", "Fr√©jus", "Narbonne",
            "Bayonne", "Troyes", "Niort", "Pau", "Biarritz", "Cherbourg", "Laval", "Chamb√©ry",
            "Vannes", "Arles", "Ajaccio", "Blois", "Compi√®gne", "Montauban", "Brive-la-Gaillarde",
            "Saint-Malo", "Quimper", "Chartres", "Gap","Saint-Nazaire","Valence", "La Roche-sur-Yon","Montlu√ßon",
            "Versailles", "Cr√©teil", "Argenteuil", "La Garenne-Colombes","Pau", "Dijon"
        ];

        const cityDatalist = document.getElementById('cityOptions');
        allFrenchCities.forEach(city => {
            const option = document.createElement('option');
            option.value = city;
            cityDatalist.appendChild(option);
        });

        // Dummy logout function (you'd replace this with actual authentication logic)
        document.getElementById('logoutButton').addEventListener('click', function(event) {
            event.preventDefault();
            alert('Vous avez √©t√© d√©connect√©.');
            window.location.href = '#'; // Redirect to the current page to show role selection again
        });

        // Form submission handling for the new trip proposal
        document.getElementById('nouveauVoyageForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            const userId = document.getElementById('userId').value;
            const depart = document.getElementById('depart').value;
            const arrivee = document.getElementById('arrivee').value;
            const prix = document.getElementById('prix').value;
            const vehicule = document.getElementById('vehicule').value;
            const nouveauVehiculeModele = document.getElementById('nouveau_vehicule_modele').value;
            const nouvelleImmatriculation = document.getElementById('nouvelle_immatriculation').value;
            const nouveauVehiculeElectrique = document.getElementById('nouveau_vehicule_electrique').checked; // Get checkbox state

            // Get traveler preferences
            const preferenceFumer = document.getElementById('preference_fumer').checked;
            const preferenceAnimaux = document.getElementById('preference_animaux').checked;
            const preferenceParler = document.getElementById('preference_parler').checked;
            const preferenceMusique = document.getElementById('preference_musique').checked;


            // Basic validation for trip details
            if (!depart || !arrivee || !prix) {
                alert('Veuillez remplir tous les champs obligatoires pour le voyage (Adresses et Prix).');
                return;
            }

            let selectedVehicleInfo = "";
            // Check if an existing vehicle was selected from the dropdown
            if (vehicule) {
                selectedVehicleInfo = `V√©hicule s√©lectionn√©: ${document.getElementById('vehicule').options[document.getElementById('vehicule').selectedIndex].text}`;
            }
            // Otherwise, check if new vehicle details were provided
            else if (nouveauVehiculeModele && nouvelleImmatriculation) {
                const electricStatus = nouveauVehiculeElectrique ? "V√©hicule √âlectrique üå±" : "V√©hicule Non √âlectrique";
                selectedVehicleInfo = `Nouveau v√©hicule propos√©: ${nouveauVehiculeModele} (Immatriculation: ${nouvelleImmatriculation}) ${electricStatus}`;
            }
            // If neither option was filled
            else {
                alert('Veuillez s√©lectionner un v√©hicule existant OU proposer un nouveau v√©hicule (Marque/Mod√®le et Immatriculation).');
                return;
            }

            const message = `
Nouveau voyage propos√© par l'utilisateur (ID: ${userId}):
D√©part: ${depart}
Arriv√©e: ${arrivee}
Prix propos√©: ${parseFloat(prix).toFixed(2)} ‚Ç¨
${selectedVehicleInfo}
Pr√©f√©rences du voyageur :
    Fumer : ${preferenceFumer ? 'Accept√©' : 'Non accept√©'}
    Animaux : ${preferenceAnimaux ? 'Accept√©' : 'Non accept√©'}
    Conversation : ${preferenceParler ? 'Accept√©e' : 'Non accept√©e'}
    Musique : ${preferenceMusique ? 'Accept√©e' : 'Non accept√©e'}
            `;

            alert(message);

            // Here you would typically send this data to a server
            // Example: fetch('/api/propose-voyage', { method: 'POST', body: JSON.stringify({ depart, arrivee, prix, vehicule, nouveauVehiculeModele, nouvelleImmatriculation, nouveauVehiculeElectrique, preferenceFumer, preferenceAnimaux, preferenceParler, preferenceMusique }), headers: { 'Content-Type': 'application/json' }})
            // .then(response => response.json())
            // .then(data => console.log(data))
            // .catch(error => console.error('Error:', error));

            // Optionally clear the form
            this.reset();
        });

        // JavaScript for the Cancellation Modal (from your provided code)
        let rideToCancelId = null; // Variable to store the ID of the ride to cancel

        function confirmCancellation(rideId, rideDescription) {
            rideToCancelId = rideId;
            document.getElementById('rideDescription').innerText = rideDescription;
            document.getElementById('cancellationModal').style.display = 'flex'; // Show the modal
        }

        function closeModal() {
            document.getElementById('cancellationModal').style.display = 'none'; // Hide the modal
            rideToCancelId = null;
        }

        document.getElementById('confirmCancelBtn').addEventListener('click', function() {
            if (rideToCancelId) {
                console.log('Annulation confirm√©e pour le covoiturage ID :', rideToCancelId);
                // In a real application, you'd send an AJAX request to your backend here.
                // For this example, we simulate the cancellation visually on the client-side.

                alert('Covoiturage annul√© avec succ√®s (simulation) ! Un e-mail sera envoy√© aux participants.');
                const rideCard = document.querySelector(`.ride-card[data-ride-id="${rideToCancelId}"]`);
                if (rideCard) {
                    rideCard.querySelector('.ride-status').innerText = 'Statut : Annul√©';
                    rideCard.querySelector('.ride-status').classList.add('cancelled');
                    const cancelButton = rideCard.querySelector('.ride-actions button');
                    if (cancelButton) {
                        cancelButton.innerText = 'Annul√©';
                        cancelButton.disabled = true;
                        cancelButton.style.backgroundColor = '#6c757d';
                        cancelButton.style.cursor = 'not-allowed';
                    }
                }
                closeModal();
            }
        });

        // Initially show role selection
        showRoleSelection();
    </script>

</body>
</html>